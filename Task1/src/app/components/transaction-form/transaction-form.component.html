<div nz-row class="form-header">
    <div nz-col nzSpan="2">
        <img [src]="getIcon()" />
    </div>
    <div nz-col nzOffset="6">
        Make a Transfer
    </div>
</div>

<div nz-row class="form-wrap">
    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()" class="form-transfer">

        <nz-form-item>
          <nz-form-label [nzSpan]="24"><strong>FROM ACCOUNT</strong></nz-form-label>
          <nz-form-control [nzSpan]="24">
            <input type="text" nz-input formControlName="fromAccount"/>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label [nzSpan]="24"><strong>TO ACCOUNT</strong></nz-form-label>
          <nz-form-control nzErrorTip="Please select account!" [nzSpan]="24">
            <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a person" formControlName="toAccount">
              <nz-option *ngFor="let account of dataSelect" [nzLabel]="account.merchant.name" [nzValue]="account"></nz-option>
            </nz-select>
          </nz-form-control>
        </nz-form-item>

        <nz-form-item>
            <nz-form-label [nzSpan]="24"><strong>AMOUNT</strong></nz-form-label>
            <nz-form-control nzErrorTip="Input amount of money!" [nzSpan]="24">
              <input type="number" nz-input formControlName="amount" placeholder="Enter Account" />
            </nz-form-control>
          </nz-form-item>

            <button nz-button nzType="primary" class="form-btn">SUBMIT</button>
      </form>
</div>

<nz-modal [(nzVisible)]="isVisible" nzTitle="Transaction confirmation" (nzOnCancel)="cancel()">
  <div nz-row *ngIf="validateForm.controls.toAccount.value">
    <div nz-col nzSpan="6"> From Account: </div>
    <div nz-col nzSpan="18"> <strong>{{ fromAccount.from }} - {{ '€'+fromAccount.amount}}</strong></div>

    <div nz-col nzSpan="6"> To Account: </div>
    <div nz-col nzSpan="18"><strong>{{ validateForm.controls.toAccount.value.merchant.name }}</strong></div>

    <div nz-col nzSpan="6"> Account number: </div>
    <div nz-col nzSpan="18"><strong>{{ validateForm.controls.toAccount.value.merchant.accountNumber }}</strong></div>

    <div nz-col nzSpan="6"> Payment method: </div>
    <div nz-col nzSpan="18"><strong>{{ validateForm.controls.toAccount.value.transaction.type }}</strong></div>

    <div nz-col nzSpan="6"> Amount: </div>
    <div nz-col nzSpan="18"> <strong>{{ '€'+validateForm.controls.amount.value}} </strong></div>

  </div>
  <div *nzModalFooter>
    <button nz-button nzType="default" (click)="cancel()">Cancel</button>
    <button nz-button nzType="primary" (click)="tranfer()" [nzLoading]="isConfirmLoading" class="trasfer-btn">Transfer</button>
  </div>
</nz-modal>
